(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0565":function(t,e,a){"use strict";a("16f0")},"16f0":function(t,e,a){},"8b24":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column",class:t.bgClass},[a("div",{staticClass:"col q-pt-lg q-px-md"},[a("q-input",{attrs:{placeholder:"search",dark:"",borderless:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getWeaterBySearch.apply(null,arguments)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"my_location"},on:{click:t.getLocation}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"search"},on:{click:t.getWeaterBySearch}})]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.weatherData?[a("div",{staticClass:"col text-white text-center"},[a("div",{staticClass:"text-h4 text-weight-light"},[t._v("\n        "+t._s(t.weatherData.name)+"\n      ")]),a("div",{staticClass:"text-h6 text-weight-light"},[t._v("\n        "+t._s(t.weatherData.weather[0].main)+"\n      ")]),a("div",{staticClass:"text-h1 text-weight-thin q-my-lg relative-position"},[a("span",[t._v(t._s(Math.round(t.weatherData.main.temp)))]),a("span",{staticClass:"text-h4 relative-position degree"},[t._v("Â°c")])])]),a("div",{staticClass:"col text-center"},[a("img",{attrs:{src:"http://openweathermap.org/img/wn/"+t.weatherData.weather[0].icon+"@2x.png",alt:""}})])]:[a("div",{staticClass:"col column text-center text-white"},[a("div",{staticClass:"col text-h2 text-weight-thin"},[t._v("\n      LareMedia"),a("br"),t._v("weather\n    ")]),a("q-btn",{staticClass:"col",attrs:{flat:""},on:{click:t.getLocation}},[a("q-icon",{attrs:{left:"",size:"3em",name:"my_location"}}),a("div",[t._v("Find My Location")])],1)],1)],a("div",{staticClass:"col skyline"},[a("div",[a("q-btn",{staticClass:"homeBtn",attrs:{color:"white",round:"",dense:"",flat:"",icon:"home"},on:{click:function(e){t.weatherData=null}}})],1)])],2)},n=[],s=(a("ac1f"),{name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,lon:null,apiUrl:"https://api.openweathermap.org/data/2.5/weather",apiKey:"c5f42f77164bdcbb7b926f5bc965d3f3"}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"}},methods:{getLocation(){this.$q.loading.show(),this.$q.platform.is.electron?this.$axios.get("https://freegeoip.app/json",{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0,credentials:"same-origin"}).then((t=>{this.lat=response.data.latitude,this.lon=response.data.longitude,this.getWeatherByCoords()})):navigator.geolocation.getCurrentPosition((t=>{this.lat=t.coords.latitude,this.lon=t.coords.longitude,this.getWeatherByCoords()}))},getWeatherByCoords(){this.$q.loading.show(),this.$axios.get(`${this.apiUrl}?lat=${this.lat}&lon=${this.lon}&appid=${this.apiKey}&units=metric`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()})).catch((()=>{alert("Location not found"),this.$q.loading.hide()}))},getWeaterBySearch(){this.$q.loading.show(),this.$axios.get(`${this.apiUrl}?q=${this.search}&appid=${this.apiKey}&units=metric`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()})).catch((()=>{alert("Location not found"),this.$q.loading.hide()}))}}}),o=s,r=(a("0565"),a("2877")),l=a("9989"),c=a("27f9"),h=a("0016"),d=a("9c40"),p=a("eebe"),g=a.n(p),u=Object(r["a"])(o,i,n,!1,null,null,null);e["default"]=u.exports;g()(u,"components",{QPage:l["a"],QInput:c["a"],QIcon:h["a"],QBtn:d["a"]})}}]);